<!doctype html>
<head>
<title>Itunes</title>
 <script type="text/javascript" src="http://code.jquery.com/jquery-latest.js"></script>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.9/jquery-ui.js"></script>
    <script type="text/javascript">
	var data;
        $(document).ready(function(){
			$('input.j').keyup(function() {
			
			performSearch();
$("#keyword").autocomplete({source:data});
			});	
	
        });
    </script>
    <script type="text/javascript">
			function urlEncode(obj) {
				var s = '';

				for (var key in obj) {

					s += encodeURIComponent(key) + '=' + encodeURIComponent(obj[key]) + '&';

				}

				if (s.length > 0) {

					s = s.substr(0, s.length - 1);

				}

				return (s);

			}

			function performSearch() {

				var params = {

					term: (jQuery('#keyword').val()),

					country: 'GB',

					media: 'music',

					entity: 'song',

					//attribute: 'artistTerm,albumTerm,songTerm,musicTrackTerm',

					limit: 20,

					callback: 'handleTunesSearchResults'

				};

				var params = urlEncode(params);



				var url = 'http://ax.itunes.apple.com/WebObjects/MZStoreServices.woa/wa/wsSearch?' + params;

				var html = '<script src="' + url + '"><\/script>';

				jQuery('head').append(html);

			}

			
			
			function handleTunesSearchResults(arg) {

				var results = arg.results;

				var html = '';

				for (var i = 0; i < results.length; i++) {

					var item = results[i];

					var obj = {

		
						track_name: item.trackCensoredName,
artist_name: item.artistName,

					};
					
					results[i] = obj;


				
				
				 data = [
				obj.track_name,
				obj.artist_name
				]
	
			
				


				};
			
			}
            
           </script>




</head>
<body>
<br />

<input class="j"  id="keyword" type="text" name="seed_one"/>
<br />

<div id="itunes-results">
</div>
</body>
</html>
